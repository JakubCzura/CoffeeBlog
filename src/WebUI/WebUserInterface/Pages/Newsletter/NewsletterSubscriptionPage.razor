@page "/newsletter/subscription"
@using System.ComponentModel.DataAnnotations

<PageTitle>Newsletter Subscription</PageTitle>

<MudContainer MaxWidth="MaxWidth.ExtraLarge">
    <MudGrid Class="mt-5 mb-5">
        <MudItem xs="12" md="6" Class="d-flex align-center">
            <MudPaper Elevation="0" Class="pa-4">
                <MudText Typo="Typo.h3" Class="mb-4">Subscribe to Our Newsletter</MudText>
                <MudText Typo="Typo.body1" Class="mb-6">
                    Elevate your coffee experience with our carefully curated content delivered straight to your inbox. From brewing secrets of world barista champions to exclusive interviews with coffee farmers, our newsletter is your passport to the global coffee culture.
                </MudText>
                <MudText Typo="Typo.body1" Class="mb-6">
                    As a subscriber, you'll enjoy:
                </MudText>
                <MudList T="string" ReadOnly="true">
                    <MudListItem Icon="@Icons.Material.Filled.CheckCircle" IconColor="Color.Success">
                        Weekly brewing tips and techniques from experts
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.CheckCircle" IconColor="Color.Success">
                        Early access to our coffee events and webinars
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.CheckCircle" IconColor="Color.Success">
                        Exclusive discounts from our specialty coffee partners
                    </MudListItem>
                    <MudListItem Icon="@Icons.Material.Filled.CheckCircle" IconColor="Color.Success">
                        Seasonal recipes and coffee pairings to try at home
                    </MudListItem>
                </MudList>
            </MudPaper>
        </MudItem>

        <MudItem xs="12" md="6">
            <MudPaper Elevation="3" Class="pa-8" Style="background-color: #f9f5f0;">
                <MudText Typo="Typo.h4" Class="mb-6">Join Our Coffee Journey</MudText>
                <MudText Typo="Typo.body1" Class="mb-8">
                    Enter your email below to receive our bi-weekly newsletter filled with coffee inspiration, education, and community stories.
                </MudText>

                <MudForm @ref="subscribeNewsletterForm" Model="subscribeNewsletterCommand" Validation="@(subscribeNewsletterCommandValidator.ValidateValue)" Class="gap-2">
                    <MudTextField @bind-Value="subscribeNewsletterCommand.Email"
                                  Label="Email Address"
                                  For="@(() => subscribeNewsletterCommand.Email)"
                                  InputType="InputType.Email"
                                  InputMode="InputMode.email"
                                  Variant="Variant.Outlined"
                                  Adornment="Adornment.Start"
                                  AdornmentIcon="@Icons.Material.Filled.Email"
                                  AdornmentColor="Color.Primary" />

                    <MudCheckBox @bind-Value="subscribeNewsletterCommand.AgreeToTerms"
                                 Label="I agree to receive emails about coffee content, events, and offers"
                                 For="@(() => subscribeNewsletterCommand.AgreeToTerms)"
                                 Color="Color.Primary" />

                    <MudButton OnClick="Submit"
                               Variant="Variant.Filled"
                               Color="Color.Primary"                            
                               Disabled="isProcessing">
                        <MudIcon Icon="@Icons.Material.Filled.Coffee" Class="mr-2" /> Subscribe Now
                    </MudButton>
                </MudForm>

                @if (!string.IsNullOrEmpty(resultMessage))
                {
                    <MudAlert Severity="Severity.Success" Class="mt-4" ShowCloseIcon="true" CloseIconClicked="() => resultMessage = string.Empty">@resultMessage</MudAlert>
                }
            </MudPaper>
        </MudItem>
    </MudGrid>

    <MudDivider DividerType="DividerType.Middle" Class="my-10" />

    <MudPaper Elevation="0" Class="pa-8 d-flex flex-column align-center justify-center" Style="background-color: #f9f5f0;">
        <MudText Typo="Typo.h4" Align="Align.Center" Class="mb-4">What Our Subscribers Say</MudText>

        <MudGrid>
            <MudItem xs="12" sm="4">
                <MudCard Elevation="2" Class="h-100">
                    <MudCardContent>
                        <MudText Typo="Typo.body1" Class="font-italic">
                            "The brewing techniques I've learned from your newsletter have completely transformed my morning coffee ritual. I look forward to next tips!"
                        </MudText>
                        <MudDivider Class="my-3" />
                        <MudText Typo="Typo.subtitle1">Michael T.</MudText>
                        <MudText Typo="Typo.caption">Home Barista</MudText>
                    </MudCardContent>
                </MudCard>
            </MudItem>

            <MudItem xs="12" sm="4">
                <MudCard Elevation="2" Class="h-100">
                    <MudCardContent>
                        <MudText Typo="Typo.body1" Class="font-italic">
                            "As a café owner, your newsletter keeps me informed about the latest trends in the coffee industry. It's my go-to resource for inspiration."
                        </MudText>
                        <MudDivider Class="my-3" />
                        <MudText Typo="Typo.subtitle1">Sarah L.</MudText>
                        <MudText Typo="Typo.caption">Café Owner</MudText>
                    </MudCardContent>
                </MudCard>
            </MudItem>

            <MudItem xs="12" sm="4">
                <MudCard Elevation="2" Class="h-100">
                    <MudCardContent>
                        <MudText Typo="Typo.body1" Class="font-italic">
                            "I've discovered so many amazing coffee origins through your newsletter. I appreciate how you highlight the stories of farmers behind each bean."
                        </MudText>
                        <MudDivider Class="my-3" />
                        <MudText Typo="Typo.subtitle1">James K.</MudText>
                        <MudText Typo="Typo.caption">Coffee Enthusiast</MudText>
                    </MudCardContent>
                </MudCard>
            </MudItem>
        </MudGrid>
    </MudPaper>
</MudContainer>